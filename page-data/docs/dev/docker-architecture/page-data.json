{"componentChunkName":"component---src-templates-doc-js","path":"/docs/dev/docker-architecture/","result":{"pageContext":{"html":"<h1 id=\"docker-architecture\" style=\"position:relative;\"><a href=\"#docker-architecture\" aria-label=\"docker architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker Architecture</h1>\n<p><strong>Note :</strong> This page covers the supported Jeyser architecture (ie based on Docker). Jeyser can also run without containers, however because the installation is harder and less secure, we won't cover it here.</p>\n<h3 id=\"docker-infrastructure\" style=\"position:relative;\"><a href=\"#docker-infrastructure\" aria-label=\"docker infrastructure permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker infrastructure</h3>\n<p>Jeyser relies on Docker to create a standard layer to install itself. Here is a picture of all Jeyser containers and their use.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 607px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c252b743186ff3b0ac249046579e960d/ef9e5/jeyser_cloudcraft.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 58.282208588957054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABqklEQVQoz31T206DQBDlf/UzjP/gY2N8N/HBB31oLYnGW7ykTdtYqKU3thVKC3RZ2D0uLK2A1kn2wi57Zs7MGQ17TGSTyNbdXg7O1aqOxK93Wgmk+GMOhnghJ4rq07/ASoBClD3zfE+cL8xJB4gssGiD548Zlusgu6tGmw6t6q3sWSBKgPmKAQnBbNzHydkFHp5e9karVT2kNnY2MEmAhJdpmeYnjo+OoOt69t3qj/Dlev9HmNp6E8OwfVCWYDL3QNxVRpcQAsMwQaMIjutCv3vCe6tTAMxzmObL9ijClF/B/NUSV7dvOL++x3QyBaUUjDEkSQLLstC80dHrtHNANWlbSaxCBjdgiOMYrc8FPJ/CcRz0ul1YZhsiXuaF4NkIfB+u52NkjxCtP+RFmClBq9IlZIHTywc8vra2CpQmIw/7ENFsp8ldeqjA0l9LFYzlMVeUm80m6vWGSvzQgDUcwPek/qIBOHN/xM2pylWliLtGQF6UWq2Gw4PD7Kg+bMDeEEUvkQBBDyI0ICQYCh2jsMQPcLHKqbmyaqkbLlSOSt6ZI+napRbEnk75BlC0ocb7xlTYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Container Architecture\" title=\"Container Architecture\" src=\"/static/c252b743186ff3b0ac249046579e960d/ef9e5/jeyser_cloudcraft.png\" srcset=\"/static/c252b743186ff3b0ac249046579e960d/222b7/jeyser_cloudcraft.png 163w,\n/static/c252b743186ff3b0ac249046579e960d/ff46a/jeyser_cloudcraft.png 325w,\n/static/c252b743186ff3b0ac249046579e960d/ef9e5/jeyser_cloudcraft.png 607w\" sizes=\"(max-width: 607px) 100vw, 607px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>As detailled in the docker-compose.yml we have :</p>\n<ul>\n<li>traefik: a reverse-proxy used here to manage automatically SSL certificates using Let'sEncrypt. It could also be used as a load balancer if the web container was duplicated. The container image only contains traefik binary.</li>\n<li>web: an Apache + PHP 7 stack, with several extension such as APCU and Opcache enabled and configured for a maximum speed.\nThis is were Docker shines, we configured the environnment once, and you just have to use it, it will work the same.\nThat container also contains PhantomJS installed, to export gantt chart for your doctypes.</li>\n<li>mysql: A Mysql 5 database to store your data. It mounts a volume in jeyser's <code class=\"language-text\">docker/mysql</code> folder, thus even if you delete the container, your database will be saved.</li>\n<li>mailer: A postfix server to send any email coming from Docker network.</li>\n</ul>\n<p> <strong>Docker basics</strong></p>\n<p>Here are some basics for anyone not used to Docker.</p>\n<p>Launch Jeyser containers : <code class=\"language-text\">docker-compose up -d</code></p>\n<p>Get access to Jeyser logs : <code class=\"language-text\">docker-compose logs</code> you can add a container name after logs if you want to see logs from a specific container.</p>\n<p>If something is not working as expected, begin with a <code class=\"language-text\">docker-compose restart</code>. You can restart a specific container if you specify its name after restart.</p>","editPath":"dev/docker-architecture.md","title":"Docker Architecture","previous":{"slug":"/docs/dev/local-development/","title":"Local development"},"next":{"slug":"/docs/dev/backup-and-restore/","title":"Backup & restore"}}},"staticQueryHashes":[]}